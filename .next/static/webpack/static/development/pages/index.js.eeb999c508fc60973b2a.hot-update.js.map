{"version":3,"file":"static/webpack/static/development/pages/index.js.eeb999c508fc60973b2a.hot-update.js","sources":["webpack:///./components/Automobile.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class Automobile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[],\n            value: this.props.value\n        }\n        this.addcar = this.addcar.bind(this);\n        const { value,value2, onIncreaseClick } = this.props;\n        this.onIncreaseClick = onIncreaseClick;\n    }\n    componentWillMount(){\n        let _this = this;\n        const promise =new Promise((resolve)=>{\n            axios('../automobile/list.json').then(\n                (res)=>{\n                    resolve(res.data)\n                }\n            )\n        })\n        promise.then(function(res){\n            let newarr = res.map(function(item){\n                return {...item,addnum: 0}\n            })\n            _this.setState({\n                list: newarr \n            })\n        })\n    }\n    addcar(i){\n        console.log(this)\n        // this.props.parent.getChildren(this, this.state.msg)\n\n        let newaddnum = this.state.list[i].addnum+=1;\n        let newmoney = this.state.list[i].number;\n        this.setState({\n\n        })\n        console.log(this.props.value)\n        // this.props.value = this.value-(newaddnum*newmoney);\n\n        this.onIncreaseClick();\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            this.state.list[i].addnum-=1;\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAAA;AAAA;AAAA;AAQA;AARA;AASA;AACA;;;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;;;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAGA;;;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;;;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAvFA;AACA;;;;;A","sourceRoot":""}