{"version":3,"file":"static/webpack/static/development/pages/index.js.826e11dea9e7c9370144.hot-update.js","sources":["webpack:///./components/House.js","webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class House extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[],\n            value: this.props.value\n        }\n        this.addcar = this.addcar.bind(this);\n        const {onIncreaseClick} = this.props;\n        this.onIncreaseClick = onIncreaseClick;\n    }\n    componentWillMount(){\n        // let _this = this;\n        // const promise =new Promise((resolve)=>{\n        //     axios('../automobile/list.json').then(\n        //         (res)=>{\n        //             resolve(res.data)\n        //         }\n        //     )\n        // })\n        // promise.then(function(res){\n        //     let newarr = res.map(function(item){\n        //         return {...item,addnum: 0}\n        //     })\n        //     _this.setState({\n        //         list: newarr \n        //     })\n        // })\n        this.setState({\n            list:[\n                {\n                    \"img\":\"images/lafa.jpg\",\n                    \"name\":\"拉法\",\n                    \"number\":\"22500000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s10071_200.jpg\",\n                    \"name\":\"法拉利488\",\n                    \"number\":\"4500000\",\n                    \"addnum\": 0\n                },    \n                {\n                    \"img\":\"images/s8809_200.jpg\",\n                    \"name\":\"法拉利f12\",\n                    \"number\":\"5200000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s2782_200.jpg\",\n                    \"name\":\"法拉利812\",\n                    \"number\":\"4500000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s10632_200.jpg\",\n                    \"name\":\"兰博基尼大牛\",\n                    \"number\":\"7500000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s9830_200.jpg\",\n                    \"name\":\"兰博基尼urus\",\n                    \"number\":\"3000000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/5680fe189983b.jpg\",\n                    \"name\":\"科尼赛克-Agera\",\n                    \"number\":\"26500000\",\n                    \"addnum\": 0\n                }\n            ]\n        })\n    }\n    addcar(i){\n        let newaddnum = this.state.list[i].addnum+=1;\n        let newmoney = this.state.list[i].number;\n        let newprodata = this.state.value - (newaddnum*newmoney);\n        this.onIncreaseClick(newprodata);\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            let newaddnum = this.state.list[i].addnum-=1;\n            let newmoney = this.state.list[i].number;\n            let newprodata = this.state.value + (newaddnum*newmoney);\n            this.onIncreaseClick(newprodata);\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}","import React, { Component } from \"react\";\nimport Link from 'next/link'\nimport Router from 'next/router'\nimport '../public/less/reset.less'\nimport '../public/less/index.less'\nimport Nav from '../components/nav'\nimport Automobile from '../components/Automobile'\nimport House from '../components/House'\nimport { createStore } from 'redux';\nimport { Provider,connect} from \"react-redux\";\n \nimport getConfig from 'next/config'\nconst {publicRuntimeConfig} = getConfig()\n\n// 定义counter组件\nclass Counter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        showlist:1\n    }\n  }\n  taplist(id){\n    this.setState({\n      showlist:id\n    })\n  }\n  render() {\n    const { value, onIncreaseClick } = this.props\n    return (\n      <>\n        <Nav {...this.props}/>\n        <div className=\"indexpage\"> \n            <div className=\"jackma\">\n                <img className=\"header_img\" src=\"images/jack-ma.jpg\"/>\n                <h3>马云模拟器</h3>\n                <div className=\"balance\">\n                    <button className=\"balance_baby\">把钱存余额宝</button>\n                    <span>每秒收益：200元</span>\n                </div>\n            </div>\n            <div className=\"mall\">\n                <ul>\n                  <li>商城：</li>\n                  <li className={this.state.showlist==1?'li_on':''} onClick={()=>this.taplist(1)}>汽车</li>\n                  <li className={this.state.showlist==2?'li_on':''} onClick={()=>this.taplist(2)}>房产</li>\n                  <li className={this.state.showlist==3?'li_on':''} onClick={()=>this.taplist(3)}>零碎</li>\n                </ul>\n            </div>\n            {this.state.showlist==1?\n              <Automobile {...this.props}/>:''\n            }\n             {this.state.showlist==2?\n              <House {...this.props}/>:''\n            }\n            {this.state.showlist==3?\n              2222:''\n            }\n        </div>\n      </>\n    )\n  }\n}\n\n//子组件传过来的值\nlet childrendata;\n/*-----------具体通知描述及数据处理方法部分-------------*/\n// Action通知及描述\nconst increaseAction = { type: 'reduce' }\n// Reducer计算  基于原有state根据action得到新的state\nfunction counter(state = { count: 279000000000}, action) {\n  const count = state.count;\n\n  switch (action.type) {\n    case 'reduce'://如果接到action为increase的通知执行\n      return { count: childrendata}\n    default:\n      return state//返回新的state\n  }\n}\n\n/*-----------数据存储器部分-------------*/\n// 根据reducer函数通过createStore()创建store(存储器)\nconst store = createStore(counter)\n\n/*-----------映射方法及数据部分-------------*/\n//  将state映射到Counter组件的props(数据)\nfunction mapStateToProps(state) {\n  return {\n    value: state.count\n  }\n}\n//  将action映射到Counter组件的props(方法)\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onIncreaseClick: function (data) {\n      childrendata = data;\n      dispatch(increaseAction)//定义点击方法发送action\n    }\n  }\n}\n// 传入上面两个函数参数，将Counter组件变为App组件\nconst App = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Counter)\n\nconst Home = () => {\n  return(\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  )\n}\nexport default Home"],"mappings":"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","sourceRoot":""}