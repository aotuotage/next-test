{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Desktop/next/next-test/components/House.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport axios from 'axios';\n\nvar House =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(House, _Component);\n\n  function House(props) {\n    var _this;\n\n    _classCallCheck(this, House);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(House).call(this, props));\n    _this.state = {\n      list: [],\n      value: _this.props.value\n    };\n    _this.addcar = _this.addcar.bind(_assertThisInitialized(_this));\n    var onIncreaseClick = _this.props.onIncreaseClick;\n    _this.onIncreaseClick = onIncreaseClick;\n    return _this;\n  }\n\n  _createClass(House, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      // let _this = this;\n      // const promise =new Promise((resolve)=>{\n      //     axios('../automobile/list.json').then(\n      //         (res)=>{\n      //             resolve(res.data)\n      //         }\n      //     )\n      // })\n      // promise.then(function(res){\n      //     let newarr = res.map(function(item){\n      //         return {...item,addnum: 0}\n      //     })\n      //     _this.setState({\n      //         list: newarr \n      //     })\n      // })\n      this.setState({\n        list: [{\n          \"img\": \"images/shenzhen.jpg\",\n          \"name\": \"深圳一套房\",\n          \"number\": \"8000000\",\n          \"addnum\": 0\n        }, {\n          \"img\": \"images/shanghai.jpg\",\n          \"name\": \"上海别墅\",\n          \"number\": \"50000000\",\n          \"addnum\": 0\n        }, {\n          \"img\": \"images/gaidao.jpg\",\n          \"name\": \"欧洲海岛\",\n          \"number\": \"110000000\",\n          \"addnum\": 0\n        }, {\n          \"img\": \"images/beijing.jpg\",\n          \"name\": \"北京四合院\",\n          \"number\": \"125000000\",\n          \"addnum\": 0\n        }]\n      });\n    }\n  }, {\n    key: \"addcar\",\n    value: function addcar(i) {\n      var newaddnum = this.state.list[i].addnum += 1;\n      var newmoney = this.state.list[i].number;\n      var newprodata = this.state.value - newaddnum * newmoney;\n      this.onIncreaseClick(newprodata);\n\n      var newlist = _Object$assign([], this.state.list);\n\n      this.setState({\n        list: newlist\n      });\n    }\n  }, {\n    key: \"reducecar\",\n    value: function reducecar(i) {\n      if (this.state.list[i].addnum > 0) {\n        var newaddnum = this.state.list[i].addnum -= 1;\n        var newmoney = this.state.list[i].number;\n        var newprodata = this.state.value + newaddnum * newmoney;\n        this.onIncreaseClick(newprodata);\n\n        var newlist = _Object$assign([], this.state.list);\n\n        this.setState({\n          list: newlist\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: \"addlist\",\n    value: function addlist() {\n      var _this2 = this;\n\n      var arr;\n\n      if (this.state.list.length) {\n        arr = this.state.list.map(function (item, i) {\n          return __jsx(\"div\", {\n            className: \"auto_list\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: item.img,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), __jsx(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, item.name, __jsx(\"span\", {\n            className: \"price\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, \"\\uFFE5\", item.number)), __jsx(\"div\", {\n            className: \"add_button\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            className: \"control\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            className: \"subtraction\",\n            onClick: function onClick() {\n              return _this2.reducecar(i);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, \"-\"), __jsx(\"div\", {\n            className: \"addnum\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, item.addnum), __jsx(\"div\", {\n            className: \"addition\",\n            onClick: function onClick() {\n              return _this2.addcar(i);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, \"+\")), __jsx(\"button\", {\n            className: \"increase\",\n            onClick: function onClick() {\n              return _this2.addcar(i);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\")));\n        });\n      }\n\n      return arr;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.addlist()));\n    }\n  }]);\n\n  return House;\n}(Component);\n\nexport { House as default };","map":{"version":3,"sources":["/Users/mac/Desktop/next/next-test/components/House.js"],"names":["React","Component","axios","House","props","state","list","value","addcar","bind","onIncreaseClick","setState","i","newaddnum","addnum","newmoney","number","newprodata","newlist","arr","length","map","item","img","name","reducecar","addlist"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class House extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[],\n            value: this.props.value\n        }\n        this.addcar = this.addcar.bind(this);\n        const {onIncreaseClick} = this.props;\n        this.onIncreaseClick = onIncreaseClick;\n    }\n    componentWillMount(){\n        // let _this = this;\n        // const promise =new Promise((resolve)=>{\n        //     axios('../automobile/list.json').then(\n        //         (res)=>{\n        //             resolve(res.data)\n        //         }\n        //     )\n        // })\n        // promise.then(function(res){\n        //     let newarr = res.map(function(item){\n        //         return {...item,addnum: 0}\n        //     })\n        //     _this.setState({\n        //         list: newarr \n        //     })\n        // })\n        this.setState({\n            list:[\n                {\n                    \"img\":\"images/shenzhen.jpg\",\n                    \"name\":\"深圳一套房\",\n                    \"number\":\"8000000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/shanghai.jpg\",\n                    \"name\":\"上海别墅\",\n                    \"number\":\"50000000\",\n                    \"addnum\": 0\n                },    \n                {\n                    \"img\":\"images/gaidao.jpg\",\n                    \"name\":\"欧洲海岛\",\n                    \"number\":\"110000000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/beijing.jpg\",\n                    \"name\":\"北京四合院\",\n                    \"number\":\"125000000\",\n                    \"addnum\": 0\n                }\n            ]\n        })\n    }\n    addcar(i){\n        let newaddnum = this.state.list[i].addnum+=1;\n        let newmoney = this.state.list[i].number;\n        let newprodata = this.state.value - (newaddnum*newmoney);\n        this.onIncreaseClick(newprodata);\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            let newaddnum = this.state.list[i].addnum-=1;\n            let newmoney = this.state.list[i].number;\n            let newprodata = this.state.value + (newaddnum*newmoney);\n            this.onIncreaseClick(newprodata);\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}