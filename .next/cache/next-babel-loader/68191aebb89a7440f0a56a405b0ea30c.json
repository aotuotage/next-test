{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nvar _jsxFileName = \"/Users/mac/Desktop/next/next-test/components/Automobile.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nexport default class Automobile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    };\n    this.addcar = this.addcar.bind(this);\n  }\n\n  componentWillMount() {\n    let _this = this;\n\n    const promise = new _Promise(resolve => {\n      axios('../automobile/list.json').then(res => {\n        resolve(res.data);\n      });\n    });\n    promise.then(function (res) {\n      let newarr = res.map(function (item) {\n        return _objectSpread({}, item, {\n          addnum: 0\n        });\n      });\n\n      _this.setState({\n        list: newarr\n      });\n\n      console.log(_this.state.list);\n    });\n  }\n\n  addcar(i) {\n    this.state.list[i].addnum += 1;\n\n    let newlist = _Object$assign([], this.state.list);\n\n    this.setState({\n      list: newlist\n    });\n  }\n\n  reducecar(i) {\n    if (this.state.list[i].addnum > 0) {\n      this.state.list[i].addnum -= 1;\n\n      let newlist = _Object$assign([], this.state.list);\n\n      this.setState({\n        list: newlist\n      });\n    }\n\n    return false;\n  }\n\n  addlist() {\n    let arr;\n\n    if (this.state.list.length) {\n      arr = this.state.list.map((item, i) => {\n        return __jsx(\"div\", {\n          className: \"auto_list\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: item.img,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }), __jsx(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, item.name, __jsx(\"span\", {\n          className: \"price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"\\uFFE5\", item.number)), __jsx(\"div\", {\n          className: \"add_button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"subtraction\",\n          onClick: () => this.reducecar(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"-\"), __jsx(\"div\", {\n          className: \"addnum\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, item.addnum), __jsx(\"div\", {\n          className: \"addition\",\n          onClick: () => this.addcar(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"+\")), __jsx(\"button\", {\n          className: \"increase\",\n          onClick: () => this.addcar(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\")));\n      });\n    }\n\n    return arr;\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.addlist()));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/Desktop/next/next-test/components/Automobile.js"],"names":["React","Component","axios","Automobile","constructor","props","state","list","addcar","bind","componentWillMount","_this","promise","resolve","then","res","data","newarr","map","item","addnum","setState","console","log","i","newlist","reducecar","addlist","arr","length","img","name","number","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class Automobile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[]\n        }\n        this.addcar = this.addcar.bind(this);\n    }\n    componentWillMount(){\n        let _this = this;\n        const promise =new Promise((resolve)=>{\n            axios('../automobile/list.json').then(\n                (res)=>{\n                    resolve(res.data)\n                }\n            )\n        })\n        promise.then(function(res){\n            let newarr = res.map(function(item){\n                return {...item,addnum: 0}\n            })\n            _this.setState({\n                list: newarr \n            })\n            console.log(_this.state.list)\n        })\n    }\n    addcar(i){\n        this.state.list[i].addnum+=1;\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            this.state.list[i].addnum-=1;\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}