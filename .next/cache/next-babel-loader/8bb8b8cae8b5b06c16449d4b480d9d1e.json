{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nvar _jsxFileName = \"/Users/mac/Desktop/next/next-test/components/Automobile.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nexport default class Automobile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      value: this.props.value\n    };\n    this.addcar = this.addcar.bind(this);\n    const {\n      onIncreaseClick\n    } = this.props;\n    this.onIncreaseClick = onIncreaseClick;\n  }\n\n  componentWillMount() {\n    // let _this = this;\n    // const promise =new Promise((resolve)=>{\n    //     axios('../automobile/list.json').then(\n    //         (res)=>{\n    //             resolve(res.data)\n    //         }\n    //     )\n    // })\n    // promise.then(function(res){\n    //     let newarr = res.map(function(item){\n    //         return {...item,addnum: 0}\n    //     })\n    //     _this.setState({\n    //         list: newarr \n    //     })\n    // })\n    this.setState({\n      list: [{\n        \"img\": \"images/feiji.jpg\",\n        \"name\": \"私人飞机\",\n        \"number\": \"420000000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/keji.jpg\",\n        \"name\": \"波音747客机\",\n        \"number\": \"22500000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/lafa.jpg\",\n        \"name\": \"拉法\",\n        \"number\": \"2500000000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/s10071_200.jpg\",\n        \"name\": \"法拉利488\",\n        \"number\": \"4500000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/s8809_200.jpg\",\n        \"name\": \"法拉利f12\",\n        \"number\": \"5200000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/s2782_200.jpg\",\n        \"name\": \"法拉利812\",\n        \"number\": \"4500000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/s10632_200.jpg\",\n        \"name\": \"兰博基尼大牛\",\n        \"number\": \"7500000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/s9830_200.jpg\",\n        \"name\": \"兰博基尼urus\",\n        \"number\": \"3000000\",\n        \"addnum\": 0\n      }, {\n        \"img\": \"images/5680fe189983b.jpg\",\n        \"name\": \"科尼赛克-Agera\",\n        \"number\": \"26500000\",\n        \"addnum\": 0\n      }]\n    });\n  }\n\n  addcar(i) {\n    let newaddnum = this.state.list[i].addnum += 1;\n    let newmoney = this.state.list[i].number;\n    let newprodata = this.state.value - newaddnum * newmoney;\n    this.onIncreaseClick(newprodata);\n\n    let newlist = _Object$assign([], this.state.list);\n\n    this.setState({\n      list: newlist\n    });\n  }\n\n  reducecar(i) {\n    if (this.state.list[i].addnum > 0) {\n      let newaddnum = this.state.list[i].addnum -= 1;\n      let newmoney = this.state.list[i].number;\n      let newprodata = this.state.value + newaddnum * newmoney;\n      this.onIncreaseClick(newprodata);\n\n      let newlist = _Object$assign([], this.state.list);\n\n      this.setState({\n        list: newlist\n      });\n    }\n\n    return false;\n  }\n\n  addlist() {\n    let arr;\n\n    if (this.state.list.length) {\n      arr = this.state.list.map((item, i) => {\n        return __jsx(\"div\", {\n          className: \"auto_list\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: item.img,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }), __jsx(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, item.name, __jsx(\"span\", {\n          className: \"price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"\\uFFE5\", item.number)), __jsx(\"div\", {\n          className: \"add_button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"subtraction\",\n          onClick: () => this.reducecar(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"-\"), __jsx(\"div\", {\n          className: \"addnum\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, item.addnum), __jsx(\"div\", {\n          className: \"addition\",\n          onClick: () => this.addcar(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"+\")), __jsx(\"button\", {\n          className: \"increase\",\n          onClick: () => this.addcar(i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\")));\n      });\n    }\n\n    return arr;\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, this.addlist()));\n  }\n\n}","map":{"version":3,"sources":["/Users/mac/Desktop/next/next-test/components/Automobile.js"],"names":["React","Component","axios","Automobile","constructor","props","state","list","value","addcar","bind","onIncreaseClick","componentWillMount","setState","i","newaddnum","addnum","newmoney","number","newprodata","newlist","reducecar","addlist","arr","length","map","item","img","name","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class Automobile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[],\n            value: this.props.value\n        }\n        this.addcar = this.addcar.bind(this);\n        const {onIncreaseClick} = this.props;\n        this.onIncreaseClick = onIncreaseClick;\n    }\n    componentWillMount(){\n        // let _this = this;\n        // const promise =new Promise((resolve)=>{\n        //     axios('../automobile/list.json').then(\n        //         (res)=>{\n        //             resolve(res.data)\n        //         }\n        //     )\n        // })\n        // promise.then(function(res){\n        //     let newarr = res.map(function(item){\n        //         return {...item,addnum: 0}\n        //     })\n        //     _this.setState({\n        //         list: newarr \n        //     })\n        // })\n        this.setState({\n            list:[\n                {\n                    \"img\":\"images/feiji.jpg\",\n                    \"name\":\"私人飞机\",\n                    \"number\":\"420000000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/keji.jpg\",\n                    \"name\":\"波音747客机\",\n                    \"number\":\"22500000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/lafa.jpg\",\n                    \"name\":\"拉法\",\n                    \"number\":\"2500000000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s10071_200.jpg\",\n                    \"name\":\"法拉利488\",\n                    \"number\":\"4500000\",\n                    \"addnum\": 0\n                },    \n                {\n                    \"img\":\"images/s8809_200.jpg\",\n                    \"name\":\"法拉利f12\",\n                    \"number\":\"5200000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s2782_200.jpg\",\n                    \"name\":\"法拉利812\",\n                    \"number\":\"4500000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s10632_200.jpg\",\n                    \"name\":\"兰博基尼大牛\",\n                    \"number\":\"7500000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/s9830_200.jpg\",\n                    \"name\":\"兰博基尼urus\",\n                    \"number\":\"3000000\",\n                    \"addnum\": 0\n                },\n                {\n                    \"img\":\"images/5680fe189983b.jpg\",\n                    \"name\":\"科尼赛克-Agera\",\n                    \"number\":\"26500000\",\n                    \"addnum\": 0\n                }\n            ]\n        })\n    }\n    addcar(i){\n        let newaddnum = this.state.list[i].addnum+=1;\n        let newmoney = this.state.list[i].number;\n        let newprodata = this.state.value - (newaddnum*newmoney);\n        this.onIncreaseClick(newprodata);\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            let newaddnum = this.state.list[i].addnum-=1;\n            let newmoney = this.state.list[i].number;\n            let newprodata = this.state.value + (newaddnum*newmoney);\n            this.onIncreaseClick(newprodata);\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}