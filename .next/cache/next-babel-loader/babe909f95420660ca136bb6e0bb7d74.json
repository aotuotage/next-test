{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Desktop/next/next-test/components/Automobile.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport axios from 'axios';\n\nvar Automobile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Automobile, _Component);\n\n  function Automobile(props) {\n    var _this2;\n\n    _classCallCheck(this, Automobile);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Automobile).call(this, props));\n    _this2.state = {\n      list: [],\n      value: _this2.props.value\n    };\n    _this2.addcar = _this2.addcar.bind(_assertThisInitialized(_this2));\n    var onIncreaseClick = _this2.props.onIncreaseClick;\n    _this2.onIncreaseClick = onIncreaseClick;\n    return _this2;\n  }\n\n  _createClass(Automobile, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this = this;\n\n      var promise = new _Promise(function (resolve) {\n        axios('../automobile/list.json').then(function (res) {\n          resolve(res.data);\n        });\n      });\n      promise.then(function (res) {\n        var newarr = res.map(function (item) {\n          return _objectSpread({}, item, {\n            addnum: 0\n          });\n        });\n\n        _this.setState({\n          list: newarr\n        });\n      });\n    }\n  }, {\n    key: \"addcar\",\n    value: function addcar(i) {\n      console.log(this);\n      var newaddnum = this.state.list[i].addnum += 1;\n      var newmoney = this.state.list[i].number;\n      var newprodata = this.state.value - newaddnum * newmoney;\n      this.onIncreaseClick(newprodata);\n\n      var newlist = _Object$assign([], this.state.list);\n\n      this.setState({\n        list: newlist\n      });\n    }\n  }, {\n    key: \"reducecar\",\n    value: function reducecar(i) {\n      if (this.state.list[i].addnum > 0) {\n        this.state.list[i].addnum -= 1;\n\n        var newlist = _Object$assign([], this.state.list);\n\n        this.setState({\n          list: newlist\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: \"addlist\",\n    value: function addlist() {\n      var _this3 = this;\n\n      var arr;\n\n      if (this.state.list.length) {\n        arr = this.state.list.map(function (item, i) {\n          return __jsx(\"div\", {\n            className: \"auto_list\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: item.img,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }), __jsx(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, item.name, __jsx(\"span\", {\n            className: \"price\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, \"\\uFFE5\", item.number)), __jsx(\"div\", {\n            className: \"add_button\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            className: \"control\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            className: \"subtraction\",\n            onClick: function onClick() {\n              return _this3.reducecar(i);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, \"-\"), __jsx(\"div\", {\n            className: \"addnum\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, item.addnum), __jsx(\"div\", {\n            className: \"addition\",\n            onClick: function onClick() {\n              return _this3.addcar(i);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, \"+\")), __jsx(\"button\", {\n            className: \"increase\",\n            onClick: function onClick() {\n              return _this3.addcar(i);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, \"\\u52A0\\u5165\\u8D2D\\u7269\\u8F66\")));\n        });\n      }\n\n      return arr;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.addlist()));\n    }\n  }]);\n\n  return Automobile;\n}(Component);\n\nexport { Automobile as default };","map":{"version":3,"sources":["/Users/mac/Desktop/next/next-test/components/Automobile.js"],"names":["React","Component","axios","Automobile","props","state","list","value","addcar","bind","onIncreaseClick","_this","promise","resolve","then","res","data","newarr","map","item","addnum","setState","i","console","log","newaddnum","newmoney","number","newprodata","newlist","arr","length","img","name","reducecar","addlist"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class Automobile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[],\n            value: this.props.value\n        }\n        this.addcar = this.addcar.bind(this);\n        const {onIncreaseClick } = this.props;\n        this.onIncreaseClick = onIncreaseClick;\n    }\n    componentWillMount(){\n        let _this = this;\n        const promise =new Promise((resolve)=>{\n            axios('../automobile/list.json').then(\n                (res)=>{\n                    resolve(res.data)\n                }\n            )\n        })\n        promise.then(function(res){\n            let newarr = res.map(function(item){\n                return {...item,addnum: 0}\n            })\n            _this.setState({\n                list: newarr \n            })\n        })\n    }\n    addcar(i){\n        console.log(this)\n        let newaddnum = this.state.list[i].addnum+=1;\n        let newmoney = this.state.list[i].number;\n        let newprodata = this.state.value - (newaddnum*newmoney);\n        this.onIncreaseClick(newprodata);\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            this.state.list[i].addnum-=1;\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}