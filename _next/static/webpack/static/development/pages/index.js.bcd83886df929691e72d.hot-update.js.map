{"version":3,"file":"static/webpack/static/development/pages/index.js.bcd83886df929691e72d.hot-update.js","sources":["webpack:///./components/Automobile.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from 'axios'\nexport default class Automobile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list:[],\n            value: this.props.value\n        }\n        this.addcar = this.addcar.bind(this);\n        const {onIncreaseClick} = this.props;\n        this.onIncreaseClick = onIncreaseClick;\n    }\n    componentWillMount(){\n        // let _this = this;\n        // const promise =new Promise((resolve)=>{\n        //     axios('../automobile/list.json').then(\n        //         (res)=>{\n        //             resolve(res.data)\n        //         }\n        //     )\n        // })\n        // promise.then(function(res){\n        //     let newarr = res.map(function(item){\n        //         return {...item,addnum: 0}\n        //     })\n        //     _this.setState({\n        //         list: newarr \n        //     })\n        // })\n        this.setState({\n            list:[\n                {\n                    \"img\":\"images/lafa.jpg\",\n                    \"name\":\"拉法\",\n                    \"number\":\"22500000\"\n                },\n                {\n                    \"img\":\"images/s10071_200.jpg\",\n                    \"name\":\"法拉利488\",\n                    \"number\":\"4500000\"\n                },    \n                {\n                    \"img\":\"images/s8809_200.jpg\",\n                    \"name\":\"法拉利f12\",\n                    \"number\":\"5200000\"\n                },\n                {\n                    \"img\":\"images/s2782_200.jpg\",\n                    \"name\":\"法拉利812\",\n                    \"number\":\"4500000\"\n                },\n                {\n                    \"img\":\"images/s10632_200.jpg\",\n                    \"name\":\"兰博基尼大牛\",\n                    \"number\":\"7500000\"\n                },\n                {\n                    \"img\":\"images/s9830_200.jpg\",\n                    \"name\":\"兰博基尼urus\",\n                    \"number\":\"3000000\"\n                },\n                {\n                    \"img\":\"images/5680fe189983b.jpg\",\n                    \"name\":\"科尼赛克-Agera\",\n                    \"number\":\"26500000\"\n                }\n            ]\n        })\n    }\n    addcar(i){\n        let newaddnum = this.state.list[i].addnum+=1;\n        let newmoney = this.state.list[i].number;\n        let newprodata = this.state.value - (newaddnum*newmoney);\n        this.onIncreaseClick(newprodata);\n        let newlist = Object.assign([],this.state.list);\n        this.setState({\n            list:newlist\n        })\n    }\n    reducecar(i){\n        if(this.state.list[i].addnum > 0){\n            this.state.list[i].addnum-=1;\n            let newlist = Object.assign([],this.state.list);\n            this.setState({\n                list:newlist\n            })\n        }\n        return false;\n    }\n    addlist(){\n        let arr;\n        if(this.state.list.length){\n        arr = this.state.list.map((item,i) =>{\n            return (<div className=\"auto_list\" key={i}>\n                    <img src={item.img}/>\n                    <h3>{item.name}<span className=\"price\">￥{item.number}</span></h3>\n                    <div className=\"add_button\">\n                        <div className=\"control\">\n                            <div className=\"subtraction\" onClick={()=>this.reducecar(i)}>\n                                -\n                            </div>\n                            <div className=\"addnum\">{item.addnum}</div>\n                            <div className=\"addition\" onClick={()=>this.addcar(i)}>\n                                +\n                            </div>\n                        </div>\n                        <button className=\"increase\" onClick={()=>this.addcar(i)}>加入购物车</button>\n                    </div>\n                </div>)\n            })\n        }\n        return arr;\n    }\n    render() {\n        return (\n            <>         \n                <div>{this.addlist()}</div>\n            </> \n        );\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AARA;AASA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAhCA;AAuCA;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAGA;;;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;;;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAtHA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}